import{r as i,j as t,L as P,a as U}from"./app-KP6BkG4H.js";import{c as L,u as z,a as W,B as X}from"./createLucideIcon-lCdQbNwS.js";import{P as C,u as $,c as J,a as Q,b as V,d as _,I,E as Y,L as Z}from"./loader-circle-CUEt83yB.js";import{C as ee}from"./check-DLsXqDZc.js";/* empty css            */var te="Label",M=i.forwardRef((e,r)=>t.jsx(C.label,{...e,ref:r,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));M.displayName=te;var re=M;function S({className:e,...r}){return t.jsx(re,{"data-slot":"label",className:L("text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}function se(e){const r=i.useRef({value:e,previous:e});return i.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}function ae(e){const[r,s]=i.useState(void 0);return $(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const l=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const a=n[0];let d,u;if("borderBoxSize"in a){const c=a.borderBoxSize,o=Array.isArray(c)?c[0]:c;d=o.inlineSize,u=o.blockSize}else d=e.offsetWidth,u=e.offsetHeight;s({width:d,height:u})});return l.observe(e,{box:"border-box"}),()=>l.unobserve(e)}else s(void 0)},[e]),r}var w="Checkbox",[oe,xe]=J(w),[ne,E]=oe(w);function ce(e){const{__scopeCheckbox:r,checked:s,children:l,defaultChecked:n,disabled:a,form:d,name:u,onCheckedChange:c,required:o,value:b="on",internal_do_not_use_render:f}=e,[p,g]=V({prop:s,defaultProp:n??!1,onChange:c,caller:w}),[y,k]=i.useState(null),[v,h]=i.useState(null),m=i.useRef(!1),j=y?!!d||!!y.closest("form"):!0,N={checked:p,disabled:a,setChecked:g,control:y,setControl:k,name:u,form:d,value:b,hasConsumerStoppedPropagationRef:m,required:o,defaultChecked:x(n)?!1:n,isFormControl:j,bubbleInput:v,setBubbleInput:h};return t.jsx(ne,{scope:r,...N,children:ie(f)?f(N):l})}var B="CheckboxTrigger",D=i.forwardRef(({__scopeCheckbox:e,onKeyDown:r,onClick:s,...l},n)=>{const{control:a,value:d,disabled:u,checked:c,required:o,setControl:b,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:g,bubbleInput:y}=E(B,e),k=z(n,b),v=i.useRef(c);return i.useEffect(()=>{const h=a?.form;if(h){const m=()=>f(v.current);return h.addEventListener("reset",m),()=>h.removeEventListener("reset",m)}},[a,f]),t.jsx(C.button,{type:"button",role:"checkbox","aria-checked":x(c)?"mixed":c,"aria-required":o,"data-state":H(c),"data-disabled":u?"":void 0,disabled:u,value:d,...l,ref:k,onKeyDown:_(r,h=>{h.key==="Enter"&&h.preventDefault()}),onClick:_(s,h=>{f(m=>x(m)?!0:!m),y&&g&&(p.current=h.isPropagationStopped(),p.current||h.stopPropagation())})})});D.displayName=B;var A=i.forwardRef((e,r)=>{const{__scopeCheckbox:s,name:l,checked:n,defaultChecked:a,required:d,disabled:u,value:c,onCheckedChange:o,form:b,...f}=e;return t.jsx(ce,{__scopeCheckbox:s,checked:n,defaultChecked:a,disabled:u,required:d,onCheckedChange:o,name:l,form:b,value:c,internal_do_not_use_render:({isFormControl:p})=>t.jsxs(t.Fragment,{children:[t.jsx(D,{...f,ref:r,__scopeCheckbox:s}),p&&t.jsx(T,{__scopeCheckbox:s})]})})});A.displayName=w;var F="CheckboxIndicator",O=i.forwardRef((e,r)=>{const{__scopeCheckbox:s,forceMount:l,...n}=e,a=E(F,s);return t.jsx(Q,{present:l||x(a.checked)||a.checked===!0,children:t.jsx(C.span,{"data-state":H(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:r,style:{pointerEvents:"none",...e.style}})})});O.displayName=F;var q="CheckboxBubbleInput",T=i.forwardRef(({__scopeCheckbox:e,...r},s)=>{const{control:l,hasConsumerStoppedPropagationRef:n,checked:a,defaultChecked:d,required:u,disabled:c,name:o,value:b,form:f,bubbleInput:p,setBubbleInput:g}=E(q,e),y=z(s,g),k=se(a),v=ae(l);i.useEffect(()=>{const m=p;if(!m)return;const j=window.HTMLInputElement.prototype,R=Object.getOwnPropertyDescriptor(j,"checked").set,G=!n.current;if(k!==a&&R){const K=new Event("click",{bubbles:G});m.indeterminate=x(a),R.call(m,x(a)?!1:a),m.dispatchEvent(K)}},[p,k,a,n]);const h=i.useRef(x(a)?!1:a);return t.jsx(C.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d??h.current,required:u,disabled:c,name:o,value:b,form:f,...r,tabIndex:-1,ref:y,style:{...r.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});T.displayName=q;function ie(e){return typeof e=="function"}function x(e){return e==="indeterminate"}function H(e){return x(e)?"indeterminate":e?"checked":"unchecked"}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],le=W("EyeOff",de);function ue({className:e,...r}){return t.jsx(A,{"data-slot":"checkbox",className:L("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:t.jsx(O,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:t.jsx(ee,{className:"size-3.5"})})})}function ge(){const[e,r]=i.useState(!1),[s,l]=i.useState(!1),[n,a]=i.useState({email:"",password:"",remember:!1}),d=c=>{const{name:o,value:b,type:f,checked:p}=c.target;a(g=>({...g,[o]:f==="checkbox"?p:b}))},u=async c=>{c.preventDefault(),r(!0);try{const o=await U.post("/admin/login",n,{withCredentials:!0});o.data.success?(alert("✅ Login successful!"),localStorage.setItem("authToken",o.data.token),window.location.href=o.data.redirect||"/admin/registrations"):alert("❌ "+o.data.message)}catch(o){console.error(o),o.response&&o.response.data&&o.response.data.message?alert("❌ "+o.response.data.message):alert("Something went wrong. Please try again.")}finally{r(!1)}};return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 via-gray-100 to-gray-200 p-6",children:t.jsxs("div",{className:"w-full max-w-md bg-white shadow-xl rounded-2xl border border-gray-200 p-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-2",children:"Log in to your account"}),t.jsx("p",{className:"text-sm text-center text-gray-500 mb-8",children:"Enter your credentials to access your dashboard"}),t.jsxs("form",{onSubmit:u,className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(S,{htmlFor:"email",children:"Email address"}),t.jsx(I,{id:"email",name:"email",type:"email",placeholder:"you@example.com",value:n.email,onChange:d,required:!0})]}),t.jsxs("div",{className:"space-y-2 relative",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx(S,{htmlFor:"password",children:"Password"}),t.jsx(P,{href:"/admin/forgot-password",className:"text-sm text-blue-600 hover:underline",children:"Forgot password?"})]}),t.jsx(I,{id:"password",name:"password",type:s?"text":"password",placeholder:"••••••••",value:n.password,onChange:d,required:!0}),t.jsx("button",{type:"button",className:"absolute right-3 top-9 text-gray-500 hover:text-gray-700",onClick:()=>l(!s),children:s?t.jsx(le,{className:"w-4 h-4"}):t.jsx(Y,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ue,{id:"remember",name:"remember",checked:n.remember,onChange:d}),t.jsx(S,{htmlFor:"remember",className:"text-gray-600",children:"Remember me"})]}),t.jsxs(X,{type:"submit",disabled:e,className:"w-full flex items-center justify-center gap-2",children:[e&&t.jsx(Z,{className:"w-4 h-4 animate-spin"}),"Log in"]})]}),t.jsxs("p",{className:"text-center text-sm text-gray-500 mt-6",children:["Don’t have an account?"," ",t.jsx(P,{href:"/register",className:"text-blue-600 hover:underline",children:"Sign up"})]})]})})}export{ge as default};
