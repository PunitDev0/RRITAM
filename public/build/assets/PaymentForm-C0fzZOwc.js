import{r as o,j as e,H as g,a as y}from"./app-WY0m6ds6.js";/* empty css            */function j({errors:f}){const[t,m]=o.useState({amount:"100.00",email:"test@example.com",phone:"9876543210",productinfo:"Test Product",firstname:"John",address1:"123 Test Street",address2:"",city:"Mumbai",state:"Maharashtra",country:"India",zipcode:"400001"}),[r,n]=o.useState({}),[c,u]=o.useState(!1),[d,i]=o.useState(null),a=l=>{const{name:s,value:x}=l.target;m({...t,[s]:x})},p=async l=>{l.preventDefault(),u(!0),n({}),i(null);try{const s=await y.post("/payment/initiate",t,{headers:{"Content-Type":"application/json"}});console.log("Easebuzz API Response:",s.data),s.data.success?i(s.data):n({general:s.data.message||"Payment initiation failed"})}catch(s){console.error("Easebuzz API Error:",s),s.response&&s.response.data?n({general:s.response.data.message||"An error occurred. Please try again."}):n({general:"Network error. Please try again later."})}finally{u(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(g,{title:"Payment Form"}),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Pay via Easebuzz"}),d?e.jsxs("div",{className:"border rounded-lg p-4 bg-white",children:[e.jsx("h3",{className:"text-lg font-medium",children:d.message}),e.jsx("pre",{className:"mt-2 text-sm text-gray-600",children:JSON.stringify(d.result,null,2)}),e.jsx("button",{onClick:()=>i(null),className:"mt-4 w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700",children:"Back to Form"})]}):e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[e.jsxs("div",{className:"rounded-md shadow-sm space-y-2",children:[e.jsxs("div",{children:[e.jsx("input",{id:"firstname",name:"firstname",type:"text",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"First Name",value:t.firstname,onChange:a}),r.firstname&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.firstname})]}),e.jsxs("div",{children:[e.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Email",value:t.email,onChange:a}),r.email&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.email})]}),e.jsxs("div",{children:[e.jsx("input",{id:"phone",name:"phone",type:"text",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Phone (10 digits)",value:t.phone,onChange:a}),r.phone&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.phone})]}),e.jsxs("div",{children:[e.jsx("input",{id:"productinfo",name:"productinfo",type:"text",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Product Info",value:t.productinfo,onChange:a}),r.productinfo&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.productinfo})]}),e.jsxs("div",{children:[e.jsx("input",{id:"amount",name:"amount",type:"number",step:"0.01",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Amount (â‚¹)",value:t.amount,onChange:a}),r.amount&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.amount})]}),e.jsxs("div",{children:[e.jsx("input",{id:"address1",name:"address1",type:"text",className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Address Line 1",value:t.address1,onChange:a}),r.address1&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.address1})]}),e.jsxs("div",{children:[e.jsx("input",{id:"address2",name:"address2",type:"text",className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Address Line 2",value:t.address2,onChange:a}),r.address2&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.address2})]}),e.jsxs("div",{children:[e.jsx("input",{id:"city",name:"city",type:"text",className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"City",value:t.city,onChange:a}),r.city&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.city})]}),e.jsxs("div",{children:[e.jsx("input",{id:"state",name:"state",type:"text",className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"State",value:t.state,onChange:a}),r.state&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.state})]}),e.jsxs("div",{children:[e.jsx("input",{id:"country",name:"country",type:"text",className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Country",value:t.country,onChange:a}),r.country&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.country})]}),e.jsxs("div",{children:[e.jsx("input",{id:"zipcode",name:"zipcode",type:"text",className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Zipcode",value:t.zipcode,onChange:a}),r.zipcode&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.zipcode})]})]}),r.general&&e.jsx("p",{className:"text-red-500 text-sm text-center mt-2",children:r.general}),e.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:c?"Processing...":"Pay Now"})]})]})})]})}export{j as default};
